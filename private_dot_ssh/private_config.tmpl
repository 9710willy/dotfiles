{{- /* SSH Config - Machine context aware */ -}}
# =============================================================================
# SSH Configuration
# Generated by chezmoi - DO NOT EDIT DIRECTLY
# =============================================================================

# Include machine-specific configs (like colima)
Include ~/.ssh/config.d/*

# Global defaults
Host *
    AddKeysToAgent yes
{{- if eq .chezmoi.os "darwin" }}
    UseKeychain yes
{{- end }}
    IdentityFile ~/.ssh/id_ed25519

    # Connection optimization
    ServerAliveInterval 60
    ServerAliveCountMax 3

    # Connection multiplexing (reuse connections)
    ControlMaster auto
    ControlPath ~/.ssh/sockets/%r@%h-%p
    ControlPersist 600

    # Faster connections
    Compression yes

# GitHub
Host github.com
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519

# GitLab
Host gitlab.com
    HostName gitlab.com
    User git
    IdentityFile ~/.ssh/id_ed25519

{{- if eq .machine.context "company" }}

# =============================================================================
# Company-specific hosts
# =============================================================================
# Add work-specific SSH hosts here
# Example:
# Host bastion
#     HostName bastion.company.internal
#     User your-username
#     IdentityFile ~/.ssh/id_ed25519_work

{{- end }}
